# [회사 문화 1](https://www.acmicpc.net/problem/14267)

<div align = center>

| 시간 제한 | 메모리 제한 | 제출 | 정답 | 맞은 사람 | 정답 비율 |
| :-------- | :---------- | :--- | :--- | :-------- | :-------- |
| 2 초      | 512 MB      | 2003 | 785  | 597       | 40.040%   |

</div>

### 문제

영선회사에는 매우 좋은 문화가 있는데, 바로 상사가 직속 부하를 칭찬하면 그 부하가 부하의 직속 부하를 연쇄적으로 칭찬하는 내리 칭찬이 있다. 즉, 상사가 한 직속 부하를 칭찬하면 그 부하의 모든 부하들이 칭찬을 받는다.

모든 칭찬에는 칭찬의 정도를 의미하는 수치가 있는데, 이 수치 또한 부하들에게 똑같이 칭찬 받는다.

직속 상사와 직속 부하관계에 대해 주어지고, 칭찬에 대한 정보가 주어질 때, 각자 얼마의 칭찬을 받았는지 출력하시오,

---

### 입력

첫째 줄에는 회사의 직원 수 n명, 최초의 칭찬의 횟수 m이 주어진다. 직원은 1번부터 n번까지 번호가 매겨져 있다. (2 ≤ n, m ≤ 100,000)

둘째 줄에는 직원 n명의 직속 상사의 번호가 주어진다. 직속 상사의 번호는 자신의 번호보다 작으며, 최종적으로 1번이 사장이다. 1번의 경우, 상사가 없으므로 -1이 입력된다.

다음 m줄에는 직속 상사로부터 칭찬을 받은 직원 번호 i, 칭찬의 수치 w가 주어진다. (2 ≤ i ≤ n, 1 ≤ w ≤ 1,000)

사장은 상사가 없으므로 칭찬을 받지 않는다.

---

### 출력

1번부터 n번의 직원까지 칭찬을 받은 정도를 출력하시오.

---

### 예제 입력

| 예제 입력1                                 | 예제 출력1 |
| :----------------------------------------- | :--------- |
| 5 3<br/>-1 1 2 3 4<br/>2 2<br/>3 4<br/>5 6 | 0 2 6 6 12 |

---

### 문제 접근

  - 입력받은 직속 상사에 대한 정보로 `tree`를 구성

  - 기본적으로 간선의 가중치는 0이며, 가중치를 입력받은 경우 해당 정점의 부모로부터 해당 정점까지 도달하는 경로의 가중치를 설정함

    - 같은 정점에 대한 가중치가 여러번 주어지는 경우가 있음

  - `dfs`를 수행하며 root노드로부터 현재 정점까지 도달하는데 합산된 가중치를 저장

    - 한 노드에 대해 자식 노드가 최대 2개라는 조건이 없으므로 `inorder`는 불가

    - tree 구성 시, 부모 노드로부터 자식 노드로의 단방향 그래프로 설정했으므로 visited는 필요하지 않음