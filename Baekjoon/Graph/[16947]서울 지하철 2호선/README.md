# [서울 지하철 2호선](https://www.acmicpc.net/problem/16947)

<div align = center>

| 시간 제한 | 메모리 제한 | 제출 | 정답 | 맞은 사람 | 정답 비율 |
| :-------- | :---------- | :--- | :--- | :-------- | :-------- |
| 2 초      | 512 MB      | 3213 | 1533 | 1060      | 47.964%   |

</div>

### 문제

서울 지하철 2호선은 다음과 같이 생겼다.

<div align=center>
  <img src="https://upload.acmicpc.net/c7f4e70a-f1d0-4f11-8eb1-91a3baedc002/-/preview/" width="500" height="563" />
</div>

지하철 2호선에는 51개의 역이 있고, 역과 역 사이를 연결하는 구간이 51개 있다. 즉, 정점이 51개이고, 양방향 간선이 51개인 그래프로 나타낼 수 있다. 2호선은 순환선 1개와 2개의 지선으로 이루어져 있다. 한 역에서 출발해서 계속 가면 다시 출발한 역으로 돌아올 수 있는 노선을 순환선이라고 한다. 지선은 순환선에 속하는 한 역에서 시작하는 트리 형태의 노선이다.

두 역(정점) 사이의 거리는 지나야 하는 구간(간선)의 개수이다. 역 A와 순환선 사이의 거리는 A와 순환선에 속하는 역 사이의 거리 중 최솟값이다.

지하철 2호선과 같은 형태의 노선도가 주어졌을 때, 각 역과 순환선 사이의 거리를 구해보자.

---

### 입력

첫째 줄에 역의 개수 N(3 ≤ N ≤ 3,000)이 주어진다. 둘째 줄부터 N개의 줄에는 역과 역을 연결하는 구간의 정보가 주어진다. 같은 구간이 여러 번 주어지는 경우는 없고, 역은 1번부터 N번까지 번호가 매겨져 있다. 임의의 두 역 사이에 경로가 항상 존재하는 노선만 입력으로 주어진다.

---

### 출력

총 N개의 정수를 출력한다. 1번 역과 순환선 사이의 거리, 2번 역과 순환선 사이의 거리, ..., N번 역과 순환선 사이의 거리를 공백으로 구분해 출력한다.

---

### 예제 입력

| 예제 입력1                        | 예제 출력1 |
| :-------------------------------- | :--------- |
| 4<br/>1 3<br/>4 3<br/>4 2<br/>1 2 | 0 0 0 0    |

| 예제 입력2                                             | 예제 출력2  |
| :----------------------------------------------------- | :---------- |
| 6<br/>1 2<br/><br/>3 4<br/>6 4<br/>2 3<br/>1 3<br/>3 5 | 0 0 0 1 1 2 |

| 예제 입력3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | 예제 출력3                                                                                            |
| :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---------------------------------------------------------------------------------------------------- |
| 51<br/>1 2<br/>2 3<br/>3 4<br/>4 5<br/>5 6<br/>6 7<br/>7 8<br/>8 9<br/>9 10<br/>10 11<br/>11 12<br/>12 13<br/>13 14<br/>14 15<br/>15 16<br/>16 17<br/>17 18<br/>18 19<br/>19 20<br/>20 21<br/>21 22<br/>22 23<br/>23 24<br/>24 25<br/>25 26<br/>26 27<br/>27 28<br/>28 29<br/>29 30<br/>30 31<br/>31 32<br/>32 33<br/>33 34<br/>34 35<br/>35 36<br/>36 37<br/>37 38<br/>38 39<br/>39 40<br/>40 41<br/>41 42<br/>42 43<br/>43 1<br/>11 44<br/>44 45<br/>45 46<br/>46 47<br/>34 48<br/>48 49<br/>49 50<br/>50 51 | 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 2 3 4 1 2 3 4 |

서울 지하철 2호선 노선이다.

1번부터 43번까지는 역 번호와 일치하며, 성수역은 11번, 신도림역은 34번이다.

| 예제 입력4                                                                                                                                                                                                                                                                                                                                                                  | 예제 출력4                                                                                         |
| :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------- |
| 38<br/>1 2<br/>2 3<br/>3 4<br/>4 5<br/>5 6<br/>6 1<br/>1 7<br/>7 8<br/>8 9<br/>9 10<br/>10 11<br/>11 12<br/>12 13<br/>13 14<br/>14 15<br/>15 16<br/>16 17<br/>17 18<br/>18 19<br/>19 20<br/>20 21<br/>21 22<br/>22 23<br/>23 24<br/>24 25<br/>25 26<br/>26 27<br/>27 28<br/>28 29<br/>29 30<br/>30 31<br/>31 32<br/>32 33<br/>33 34<br/>34 35<br/>35 36<br/>36 37<br/>37 38 | 0 0 0 0 0 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 |

서울 지하철 6호선이다. 실제로는 일부 구간이 양방향이 아니다.

| 예제 입력5                                                                                             | 예제 출력5              |
| :----------------------------------------------------------------------------------------------------- | :---------------------- |
| 12<br/>1 3<br/>3 4<br/>4 5<br/>5 6<br/>6 7<br/>7 8<br/>8 4<br/>2 3<br/>7 9<br/>9 12<br/>7 10<br/>10 11 | 2 2 1 0 0 0 0 0 1 1 2 2 |

[2489번: 응급센터](https://www.acmicpc.net/problem/2489) 문제에 나와있는 예제 그래프이다.

---

### 문제 접근

  - `cycle`: 순환선에 속해 있는 역을 의미

  - `station`: 역 간의 연결 정보
  
  - `dfs`를 통해 백 엣지가 있는지 확인하여 해당 역이 순환선에 속해 있는 역인지 확인

    - 최소 2개 이상의 경로를 지난 상태에서, 시작역과 현재역이 같은 경우 해당 정점이 cycle에 속해 있는 정점으로 판단

  - 해당 역이 순환선 내에 속해 있으면 출력 배열에 `0`을 넣고 아닌 경우 해당 정점에 대해 `BFS`를 수행해 순환선에 속해있는 역을 만나기 전까지 카운팅 후, 순환선에 속해 있는 역을 만나면 그 시점의 count를 출력 배열에 넣음