# [선수과목 (Prerequisite)](https://www.acmicpc.net/problem/14567)

<div align = center>

| 시간 제한 | 메모리 제한 | 제출 | 정답 | 맞은 사람 | 정답 비율 |
| :-------- | :---------- | :--- | :--- | :-------- | :-------- |
| 5 초      | 256 MB      | 1909 | 1272 | 971       | 65.920%   |

</div>

### 문제

올해 Z대학 컴퓨터공학부에 새로 입학한 민욱이는 학부에 개설된 모든 전공과목을 듣고 졸업하려는 원대한 목표를 세웠다. 어떤 과목들은 선수과목이 있어 해당되는 모든 과목을 먼저 이수해야만 해당 과목을 이수할 수 있게 되어 있다. 공학인증을 포기할 수 없는 불쌍한 민욱이는 선수과목 조건을 반드시 지켜야만 한다. 민욱이는 선수과목 조건을 지킬 경우 각각의 전공과목을 언제 이수할 수 있는지 궁금해졌다. 계산을 편리하게 하기 위해 아래와 같이 조건을 간소화하여 계산하기로 하였다.

  1. 한 학기에 들을 수 있는 과목 수에는 제한이 없다.

  2. 모든 과목은 매 학기 항상 개설된다.

모든 과목에 대해 각 과목을 이수하려면 최소 몇 학기가 걸리는지 계산하는 프로그램을 작성하여라.

---

### 입력

첫 번째 줄에 과목의 수 N(1≤N≤1000)과 선수 조건의 수 M(0≤M≤500000)이 주어진다. 선수과목 조건은 M개의 줄에 걸쳐 한 줄에 정수 A B 형태로 주어진다. A번 과목이 B번 과목의 선수과목이다. A<B인 입력만 주어진다. (1≤A<B≤N)

---

### 출력

1번 과목부터 N번 과목까지 차례대로 최소 몇 학기에 이수할 수 있는지를 한 줄에 공백으로 구분하여 출력한다.

---

### 예제 입력

| 예제 입력1          | 예제 출력1 |
| :------------------ | :--------- |
| 3 2<br/>2 3<br/>1 2 | 1 2 3      |

| 예제 입력2                          | 예제 출력2  |
| :---------------------------------- | :---------- |
| 6 4<br/>1 2<br/>1 3<br/>2 5<br/>4 5 | 1 2 2 1 3 1 |

---

### 힌트

3개의 과목이 있고, 2번 과목을 이수하기 위해서는 1번 과목을 이수해야 하고, 3번 과목을 이수하기 위해서는 2번 과목을 이수해야 한다.

---

### 문제 접근

  - 위상 정렬 문제

  - 입력받은 선수과목 정보를 2차원 그래프 형태로 저장하여, 각 과목을 이수한 후 수강할 수 있는 과목들의 리스트를 저장 `par`에 저장

  - 입력받은 선수과목 정보를 토대로 각 과목별 필요한 선수과목의 개수를 `child`에 저장

  - 위상 정렬 알고리즘을 사용하여 정답 유추

    - 단, `queue`에는 선수과목 번호와 함께 해당 과목을 이수 가능한 최소 학기도 같이 `push`

    - 매 순회 시 마다 최소 학기가 입력된 과목이 선수과목인 과목들의 `child`값을 조정하고, 해당 값이 0인 경우 `(subject, 이전 과목의 최소 학기 + 1)` 형태로 `push`

  - 이후 최소 학기가 저장된 배열을 출력